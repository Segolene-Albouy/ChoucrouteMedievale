<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Choucroute médiévale</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <!-- TODO enlever des polices -->
    <link
      href="https://fonts.googleapis.com/css2?family=Almendra:wght@400;700&family=Astloch&family=Bokor&family=Caudex&family=Eagle+Lake&family=Grenze+Gotisch:wght@200;400;700&family=MedievalSharp&family=Pirata+One&family=UnifrakturCook:wght@700&family=UnifrakturMaguntia&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" type="image/png" href="static/favicon/castle1.png" />
    <link rel="stylesheet" href="./styles/fantasy-btn.css" />
    <link rel="stylesheet" href="./styles/gifs.css" />
    <link rel="stylesheet" href="./styles/global.css" />
    <link rel="stylesheet" href="./styles/cursor.css" />
    <link rel="stylesheet" href="./styles/landing.css" />
    <link rel="stylesheet" href="./styles/bricks.css" />
    <link rel="stylesheet" href="./styles/door.css" />
    <link rel="stylesheet" href="./styles/donjon.css" />
    <link rel="stylesheet" href="./styles/forum.css" />
    <script src="script/lib.js"></script>
    <script src="script/cursor.js"></script>
    <script src="script/torchs.js"></script>
    <script src="script/forum.js"></script>
    <script src="script/framework.js"></script>
    <script src="script/submitName.js"></script>
  </head>
  <body>
    <div id="main-cursor" class="custom-cursor"></div>
    <div id="main-landing">
      <div id="landing-bg">
        <div id="left-bricks">
          <div class="bricks"></div>
          <div class="left-border"></div>
        </div>
        <div id="right-bricks">
          <div class="right-border"></div>
          <div class="bricks"></div>
        </div>
      </div>
      <div class="landing-content">
        <button id="opendor" onclick="opendor()">Pénétrez au chateau !</button>
      </div>
      <div id="landing-name" class="landing-content">
        <div id="ask-name" class="parchment">
          <div id="banner">
            <img
              src="static/knight_horse_blue.gif"
              class="knight_horse_blue reverse-gifs"
            />
            <img src="static/shiny_shield.gif" class="shiny_shield" />
            <img src="static/knight_horse_blue.gif" class="knight_horse_blue" />
          </div>
          <div id="douves">
            <h3>Halte-là vagabond !</h3>
            <p>La seigneurie de la Vielarnoult ne conoisse point vostre nom.</p>
            <p>Révélez-le avant de pénétrer au chasteau.</p>
          </div>
          <div id="name-psw" class="choice-container">
            <button
              id="choose-name"
              class="choice-rpg clickable"
              onclick="choose(showName)"
            >
              Je donne mon nom
            </button>
            <button
              id="choose-psw"
              class="choice-rpg clickable"
              onclick="choose(showPsw)"
            >
              Je connois le mot de passe
            </button>
          </div>
          <form id="form-name" class="rpg-form" onsubmit="submitName(event)">
            <div id="error-name" role="error">
              <img
                src="static/angry_knight.gif"
                class="reverse-gifs angry-knight"
              />
              <span>!! Vostre nom manant !!</span>
              <img src="static/angry_knight.gif" class="angry-knight" />
            </div>
            <div id="name-taken">
              <p>Hélas ce nom est déjà pris par un autre invité !</p>
              <img
                src="static/gif/Sword_Fighters.gif"
                width="205"
                height="138"
              />
              <p>Vous connoisse-t-on sous un autre nom ?</p>
            </div>
            <input type="text" id="name-input" name="name" autofocus />
            <div class="medieval-select">
              <select name="adjectif"></select>
              <div class="select-arrow">
                <img src="static/gif/arrow.gif" />
              </div>
            </div>
            <button id="name-submit" class="choice-rpg clickable" type="submit">
              Soumettre ce nom à la garde du chasteau
            </button>
          </form>
          <form id="form-psw" class="rpg-form" onsubmit="submitPsw(event)">
            <div id="error-psw" role="error">
              <img
                src="static/angry_knight.gif"
                class="reverse-gifs angry-knight"
              />
              <span>!! Ce n'est point le mot de passe !!</span>
              <img src="static/angry_knight.gif" class="angry-knight" />
            </div>
            <input type="text" id="psw-input" name="psw" autofocus />
            <button id="psw-submit" class="choice-rpg clickable" type="submit">
              Proférer ce mot de passe aux gardes
            </button>
          </form>
          <div id="welcome">
            <p>
              <span class="username"></span>
              <span class="thinking"></span>
            </p>
            <p>Curieux, mais soit...</p>
            <p>
              Vénérable <span class="username"></span> voici vostre mot de passe
              :
            </p>
            <p><mark class="password"></mark></p>
            <p>
              Scribez-le dans vos parchemins.<br />
              Il vous servira à vous faire reconnaître des autres gardes du
              chasteau.<br />
              Cette information est de grande importance, ne la divulguez en
              aucun cas !
            </p>
          </div>
          <div id="psw-fail">
            <h3>
              <img
                src="static/angry_knight.gif"
                class="reverse-gifs angry-knight"
              />
              Quel idiot ce gueux !
              <img src="static/angry_knight.gif" class="angry-knight" />
            </h3>

            <p>Vous avez énérvé la garde du chasteau.</p>
            <p>Addressez les seigneurs par vos propres moyens.</p>
          </div>
        </div>
      </div>
    </div>

    <main>
      <div id="torchs" class="main-banner">
        <div class="torch on banner-side">
          <img src="static/gif/fireanim.gif" alt="FIIIRE!!!" />
          <img src="static/gif/torch.gif" alt="torch" />
        </div>
        <div class="torch on banner-side">
          <img src="static/gif/fireanim.gif" alt="FIIIRE!!!" />
          <img src="static/gif/torch.gif" alt="torch" />
        </div>
      </div>
      <div class="main-title">
        <a href="/" class="false-link">Choucroute médiévale</a>
      </div>

      <div id="cour" class="page">
        <section class="parchment">
          <img id="oyez" src="static/oyezoyez.png" />
          <h2>Dameselles et damelots</h2>
          <p>
            Entrez entrez dans la cour du chasteau ! Les seigneurs de la
            Vielarnoult préparent moult réjouissances pour la grand fête du chou
            nouveau. Le <mark>16 mars</mark> deux mil vingt-quatre, les quatre
            fiefs du Royaume se réuniront pour demonstrer prouesses et
            valeresses dans le plus prodigieux tournoi que la Bretagne ait cognu
            !
          </p>
          <p>
            Pour tenter de gagner le <mark>chou-chêne d'or</mark>, les preux
            champions devront s'affronter autour de quinte espreuves
          </p>
          <ul>
            <li>Le tournoi du plus flamboyant costume</li>
            <li>Le Catapultou</li>
            <li>La joute chevalresque</li>
            <li>Les énigmes de ménestrels</li>
            <li>La traque des ombres</li>
          </ul>
          <hr />
          <p>
            Avant de connoitre sous quel estendard vous pourrez concourir,
            baladez-vous donc au chasteau. Vous reviendrez à la cour pour ouïr
            toustes les dernières nouvelles des festivités.
          </p>
        </section>

        <!--<section class="parchment">
          <h1>Programmes des réjouissances</h1>
        </section>-->
      </div>

      <div id="donjon" class="page">
        <!--<section>
          <h2>Reste te destendre au donjon...</h2>
        </section>-->

        <div id="scroll">
          <div id="sexy"></div>
        </div>
      </div>

      <div id="banquet" class="page">
        <section class="parchment">
          <h2>Patience escuyer,<br />la pitance n'est pas preste !</h2>
          <img src="static/gif/chandeler.gif" alt="prout" />
        </section>
      </div>

      <div id="armurerie" class="page">
        <section class="parchment">
          <h2>Qui entre paré ainsi ?</h2>
          <p>
            Dégouspille, maraud, avec<br />ton affublement<br />de
            <mark>giguedouilleux</mark> !
          </p>
          <img src="static/gif/knight3.gif" alt="boursemolle" />
        </section>
      </div>

      <div id="forum" class="page">
        <!-- Clan .collapsible -->
        <div class="main-banner" style="justify-content: center">
          <!--<div class="banner-side">
            <img src="static/gif/colombe.gif" class="reverse-gifs">
          </div>-->
          <div class="banner-center">
            <h3>Pigeonnier des<br /><mark class="team"></mark></h3>
          </div>
          <!--<div class="banner-side">
            <img src="static/gif/colombe.gif">
          </div>-->
        </div>

        <section id="forum-welcome">

          <p>
            Bienvenue dans la pièce secrète dedié à vostre fief.
            Vous pouvez ici communiquer avec vostre clan
            pour ourdir les plus vils complots.
          </p>

          <div class="team-members">
            <h4>Se battent à vos côtés sous le même étendard :</h4>
          </div>
          <ul id="team-list"></ul>
        </section>

        <hr />
        <!-- Discussions -->
        <!-- Nouvelle discussion .collapsible -->
        <div id="new-discussion" class="collapsible">
          <h4 role="collapse-trigger" class="fantasy-btn collapsed clickable">
            <span>Entamer une nouvelle discussion</span>
            <img src="static/+.png" />
          </h4>
          <form role="collapse-content" onsubmit="submitDiscussion(event)">
            <!-- Titre -->
            <input
              type="text"
              name="discussionTitle"
              placeholder="Titre de la discussion"
              required
            />
            <!-- Message -->
            <label for="discussion-message">
              Message à adresser à vos compatriotes
            </label>
            <div id="message-area" class="fantasy-btn">
              <textarea
                name="discussionMessage"
                class="parchment"
                required
              ></textarea>
            </div>
            <button type="submit" class="choice-rpg clickable">
              <span>Envoyer</span>
              <img src="static/licorne.gif" class="loading licorne" />
            </button>
          </form>
        </div>
        <!--<hr />-->
        <!-- Liste discussions -->
        <div id="discussion-list">
          <div class="template discussion-preview">
            <h4>
              <img
                src="static/gif/seagull_with_letter1.gif"
                class="pigeon-letter"
              /><span role="title"></span>
            </h4>
            <p class="infos">
              <span>Par : <span role="author"></span></span>
              <span role="msg-number"></span>
              <br />
              <span class="additional-info">
                Dernier message de
                <span role="last-author"></span>
                <span role="last-datetime"></span>
              </span>
            </p>
          </div>
        </div>
        <div id="loading-discussion-list">
          <img src="static/licorne.gif" class="loading licorne" />
        </div>
        <div id="empty-discussion">
          <h4>Aucune discussion pour le moment</h4>
        </div>
        <div id="focused-discussion">
          <button
            class="invisible"
            role="go-back"
            onclick="goBackToDiscussions()"
          >
            &lt;- Toutes les discussions
          </button>
          <h4 role="title"></h4>
          <div class="message-wrapper fantasy-btn">
            <div id="discussion-messages">
              <div class="template message">
                <p class="infos" role="author"></p>
                <p role="message" class="parchment"></p>
              </div>
            </div>
            <form id="new-message" onsubmit="submitMessage(event)">
              <textarea
                name="message"
                required
                placeholder="Répondre"
              ></textarea>
              <button type="submit" class="invisible">
                <span>OK</span>
              </button>
              <img src="static/licorne.gif" class="loading licorne" />
            </form>
          </div>
        </div>
        <div id="loading-focused-discussion">
          <button
            class="invisible"
            role="go-back"
            onclick="goBackToDiscussions()"
          >
            &lt;- Toutes les discussions
          </button>
          <div><img src="static/licorne.gif" class="loading licorne" /></div>
        </div>
        <!--<hr />-->
      </div>

      <div id="doors" class="door-container"></div>

      <div class="popup" role="error">
        <div class="popup-content parchment">
          <img src="static/nuke.gif" class="reverse-gifs nuke" />
          <span class="message"></span>
          <img src="static/nuke.gif" class="nuke" />
        </div>
      </div>

      <div class="popup" role="warning">
        <div class="popup-content parchment">
          <img
            src="static/angry_knight.gif"
            class="reverse-gifs angry-knight"
          />
          <span class="message"></span>
          <img src="static/angry_knight.gif" class="angry-knight" />
        </div>
      </div>
    </main>
  </body>
</html>
